import 'dart:convert';
import 'package:http/http.dart' as http;
import 'config.dart';

class Api {
  static Future getProducts() async {
    final res = await http.get(
      Uri.parse("${Config.baseUrl}/products"),
    );
    return jsonDecode(res.body);
  }

  static Future payMpesa(String phone, double amount) async {
    await http.post(
      Uri.parse("${Config.baseUrl}/payments/mpesa"),
      body: {
        "phone": phone,
        "amount": amount.toString()
      }
    );
  }
}